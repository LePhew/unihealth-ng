<ion-header>
  <ion-toolbar class="header-background-color">
    <ion-buttons slot="start">
      <ion-back-button color="light"></ion-back-button>
    </ion-buttons>
    <ion-title color="light">Health</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Titulo</ion-label>
            <ion-input [(ngModel)]="requestForm.title"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Tipo de sangre</ion-label>
            <ion-select [(ngModel)]="requestForm.bloodType" interface="popover">
              <ion-select-option value="A+">A+</ion-select-option>
              <ion-select-option value="B+">B+</ion-select-option>
              <ion-select-option value="AB+">AB+</ion-select-option>
              <ion-select-option value="O+">O+</ion-select-option>
              <ion-select-option value="B-">B-</ion-select-option>
              <ion-select-option value="O-">O-</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Teléfono</ion-label>
            <ion-input [(ngModel)]="requestForm.contact" maxlength="14" (input)="phoneMask($event.target.value)"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12" class="country">
          <ion-item>
            <ion-label position="stacked">Provincia</ion-label>
            <ion-select  [(ngModel)]="requestForm.provinceId" (ngModelChange)="onProvinceChange($event)" ok-text="Ok" cancel-text="Cancelar">
              <ion-select-option *ngFor="let province of provinces" [value]="province.id">{{ province.province }}</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12" class="country">
          <ion-item>
            <ion-label position="stacked">Ciudad</ion-label>
            <ion-select [(ngModel)]="requestForm.municipalityId" ok-text="Ok" cancel-text="Cancelar">
              <ion-select-option *ngFor="let municipality of availableMunicipalities" [value]="municipality.id">{{ municipality.municipality }}</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Dirección</ion-label>
            <ion-input [(ngModel)]="requestForm.address"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Cuando espera recibir respuesta?</ion-label>
            <ion-datetime [(ngModel)]="requestForm.responseDate" displayFormat="MMM DD, YYYY"></ion-datetime>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Nota</ion-label>
            <ion-input [(ngModel)]="requestForm.note"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <br/>
      <ion-row>
        <ion-col>
          <ion-button (click)="addRequest()" expand="full" color="success">Publicar</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-content>